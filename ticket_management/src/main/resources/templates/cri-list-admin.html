<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">
    <!-- Font Awesome -->
    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
            rel="stylesheet"
    />
    <!-- Google Fonts -->
    <link
            href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
            rel="stylesheet"
    />
    <!-- MDB -->
    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.1.0/mdb.min.css"
            rel="stylesheet"
    />
    <style>
        #centered-content {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        #bookTicket {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .cards-wrapper {
            display: flex;

            justify-content: center;
        }

        .cards-wrapper1 {
            float: left;
        }

        .card img {
            max-width: 100%;
            max-height: 100%;
        }

        .card {
            margin: 0 0.5em;
            box-shadow: 2px 6px 8px 0 rgba(22, 22, 26, 0.18);
            border-radius: 0.5em;
            background-color: #ffeaa7;
        }

        .carousel-inner {
            padding: 1em;
        }

        .carousel-control-prev,
        .carousel-control-next {
            background-color: yellow;
            width: 7vh;
            height: 7vh;
            border-radius: 50%;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            align-items: center;
            justify-content: center;
            padding-bottom: 0.5em;
        }

        .centered-content {
            text-align: center;
        }

        #revenue {
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
    <script>
        function displayToast(message, color) {
            document.getElementById("toastContent").innerHTML = message;
            document.getElementById("liveToast").style.background = color;
            let myAlert = document.getElementById('liveToast');//select id of toast
            let bsAlert = new bootstrap.Toast(myAlert);//inizialize it
            bsAlert.show();//show it
        }
    </script>
</head>
<body>
<div id="centered-content">
    <button onclick="nextPage(1)" class="btn btn-outline-warning" style="width: 200px">Thống kê</button>
    <br><br><br>
    <button onclick="revenue()" class="btn btn-outline-warning" style="width: 200px">Doanh thu</button>
</div>
<div id="criList">
</div>
<div id="listTicket"></div>
<div id="bookTicket">
</div>
<div id="revenue" class="container pt-3 pb-3">
</div>
<div class="position-fixed top-0 end-5 p-3" style="z-index: 11;margin-left: 600px; text-align: center">
    <div id="liveToast" style="color: white; background:lightgreen ;border-radius:0%/0%;" class="toast"
         role="dialog" aria-live="assertive" aria-atomic="true">
        <div class="toast-body">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="30px" height="30px">
                <g id="surface1_4_">
                    <path style="fill:#4CAF50;"
                          d="M44,24c0,11.045-8.955,20-20,20S4,35.045,4,24S12.955,4,24,4S44,12.955,44,24z"></path>
                    <path style="fill:#CCFF90;"
                          d="M34.602,14.602L21,28.199l-5.602-5.598l-2.797,2.797L21,33.801l16.398-16.402L34.602,14.602z"></path>
                </g>
            </svg>
            <span id="toastContent">Nội dung hiển thị</span>
        </div>
    </div>
</div>
<script>
    function nextPage(page) {
        let newPage = page - 1
        $.ajax({
            url: "http://localhost:8080/ws/listCRI",
            type: "GET",
            data: {page: newPage},
            success: (data) => {
                $("#criList").show()
                display(data.iCarRouteIndividualDTOS.content, newPage, data.totalPage)
                console.log(data.iCarRouteIndividualDTOS.content)
                console.log(data.totalPage)
                $("#centered-content").hide()
            }
        })
    }

    function display(content, newPage, totalPage) {
        let data = "<table class=\"table align-middle mb-0 bg-white\">\n" +
            "        <thead class=\"bg-light\">\n" +
            "        <tr>\n" +
            "            <th>Điểm đi</th>\n" +
            "            <th>Điểm đến</th>\n" +
            "            <th>Thời gian đi</th>\n" +
            "            <th>Thời gian đến</th>\n" +
            "            <th>Tài xế</th>\n" +
            "            <th>Biển số</th>\n" +
            "            <th>Giá vé</th>\n" +
            "            <th>Số ghế</th>\n" +
            "            <th>Tình trạng</th>\n" +
            "            <th>Chi tiết</th>\n" +
            "        </tr>\n" +
            "        </thead>\n" +
            "        <tbody>\n";

        let now = new Date(); // Lấy thời gian hiện tại

        for (let i = 0; i < content.length; i++) {
            let startTime = new Date(content[i].startTime);
            let endTime = new Date(content[i].endTime);
            let price = content[i].price.toLocaleString("vi-VN", {
                style: "currency",
                currency: "VND",
                minimumFractionDigits: 0
            });


            let status = "";
            data += "        <tr>\n" +
                "            <td>" + content[i].startingPoint + "</td>\n" +
                "            <td>" + content[i].endingPoint + "</td>\n" +
                "            <td>" + startTime.toLocaleTimeString() + " " + startTime.toLocaleDateString() + "</td>\n" +
                "            <td>" + endTime.toLocaleTimeString() + " " + endTime.toLocaleDateString() + "</td>\n" +
                "            <td>" + content[i].driverName + "</td>\n" +
                "            <td>" + content[i].licensePlates + "</td>\n" +
                "            <td>" + price + "</td>\n" +
                "            <td>" + content[i].totalSeats + "</td>\n"

            if (startTime > now) {
                status = "Sắp diễn ra";
                data += "            <td>\n" +
                    "                <span class=\"badge badge-success rounded-pill d-inline\">" +
                    status +
                    "                </span>\n" +
                    "            </td>\n"
            } else if (endTime < now) {
                status = "Đã kết thúc";
                data += "            <td>\n" +
                    "                <span class=\"badge badge-primary rounded-pill d-inline\">" +
                    status +
                    "                </span>\n" +
                    "            </td>\n"
            } else {
                status = "Đang diễn ra";
                data += "            <td>\n" +
                    "                <span class=\"badge badge-warning rounded-pill d-inline\">" +
                    status +
                    "                </span>\n" +
                    "            </td>\n"

            }
            data += "<td><button type=\"button\" onclick=\"getDetails(" + content[i].id + "," + 0 + ")\" class=\"btn btn-link btn-sm btn-rounded\">\n" +
                "                Chi tiết\n" +
                "            </button></td>" + "        </tr>\n";
        }

        data += "        </tbody>\n" +
            "    </table><br><br>";
        data += "<button style='margin-left: 1em' onclick=\"backHome()\" class=\"btn btn-outline-warning\" style=\"width: 200px\">Quay lại</button>";
        for (let i = 0; i < totalPage; i++) {
            if (newPage === i) {
                data += "<button style='margin-left: 1em' onclick=\"nextPage(" + (i + 1) + "," + totalPage + ")\"\n" +
                    " class=\"btn btn-primary\">\n" + (i + 1) +
                    " </button>"
            } else {
                data += "<button style='margin-left: 1em' onclick=\"nextPage(" + (i + 1) + "," + totalPage + ")\"\n" +
                    " class=\"btn btn-light\">\n" + (i + 1) +
                    " </button>"
            }

        }

        $("#criList").html(data);
    }

    function backHome() {
        $("#centered-content").show()
        $("#criList").hide()
    }

    function getDetails(idCRI, page) {
        $.ajax({
            url: "http://localhost:8080/ws/listTicket",
            type: "GET",
            data: {idCRI: idCRI, page: page},
            success: (data) => {
                displayListTicket(data.iticketDTOS.content, data.totalPage, idCRI, page)
                $("#criList").hide()
                $("#listTicket").show()
            }
        })
    }

    function displayListTicket(content, totalPage, idCRI, page) {
        let price;
        let data = "<table class=\"table align-middle mb-0 bg-white\">\n" +
            "        <thead class=\"bg-light\">\n" +
            "        <tr>\n" +
            "            <th>Điểm đi</th>\n" +
            "            <th>Điểm đến</th>\n" +
            "            <th>Số ghế</th>\n" +
            "            <th>Giá vé</th>\n" +
            "            <th>Trạng thái</th>\n" +
            "            <th>Tên khách hàng</th>\n" +
            "            <th>Thanh toán</th>\n" +
            "            <th>Đặt vé</th>\n" +
            "        </tr>\n" +
            "        </thead>\n" +
            "        <tbody>\n";
        for (let i = 0; i < content.length; i++) {
            price = content[i].price.toLocaleString("vi-VN", {
                style: "currency",
                currency: "VND",
                minimumFractionDigits: 0
            });
            data += "        <tr>\n" +
                "            <td>" + content[i].startingPoint + "</td>\n" +
                "            <td>" + content[i].endingPoint + "</td>\n" +
                "            <td>" + content[i].numberSeat + "</td>\n" +
                "            <td>" + price + "</td>\n"
            if (content[i].status === false) {
                data += "            <td>Còn trống</td>\n" +
                    "            <td></td>\n" +
                    "            <td></td>\n"
                if (content[i].isDelete === false) {
                    data += "            <td><button onclick='bookTickets(" + content[i].id + "," + idCRI + "," + page + "," + content[i].numberSeat + ")' class='btn btn-sm btn-outline-warning'>Đặt vé</button></td>\n"
                } else {
                    data += "            <td></td>\n"
                }
            } else {
                data += "            <td>Đã đặt</td>\n"
                if (content[i].customerName === null) {
                    data += "            <td></td>\n"
                } else {
                    data += "            <td>" + content[i].customerName + "</td>\n"
                }
                if (content[i].paymentStatus === null) {
                    data += "            <td>Tiền mặt</td>\n"
                } else {
                    data += "            <td>Chuyển khoản</td>\n"
                }
                data += "            <td></td>\n"
            }
        }
        data += "        </tbody>\n" +
            "    </table><br><br>";
        data += "<button style='margin-left: 1em' onclick=\"backHome1()\" class=\"btn btn-outline-warning\" style=\"width: 200px\">Quay lại</button>";
        for (let i = 0; i < totalPage; i++) {
            if (page === i) {
                data += "<button style='margin-left: 1em' onclick=\"getDetails(" + idCRI + "," + i + ")\"\n" +
                    " class=\"btn btn-primary\">\n" + (i + 1) +
                    " </button>"
            } else {
                data += "<button style='margin-left: 1em' onclick=\"getDetails(" + idCRI + "," + i + ")\"\n" +
                    " class=\"btn btn-light\">\n" + (i + 1) +
                    " </button>"
            }

        }
        $("#listTicket").html(data);
    }

    function backHome1() {
        $("#listTicket").hide()
        $("#criList").show()
        nextPage(1)
    }

    function bookTickets(id, idCRI, page, numberseat) {
        let data = "<p><strong>Bạn có chắc chắn muốn xuất vé cho ghế " + numberseat + " không?</strong></p>\n" +
            "    <br><br><br>\n" +
            "    <button onclick=\"book(" + id + ")\" class=\"btn btn-outline-warning\" style=\"width: 200px\">Xuất vé</button>\n" +
            "    <br><br><br>\n" +
            "    <button onclick=\"backHome2(" + idCRI + "," + page + ")\" class=\"btn btn-outline-warning\" style=\"width: 200px\">Quay lại</button>"
        $("#bookTicket").html(data)
        $("#bookTicket").show()
        $("#listTicket").hide()
    }

    function backHome2(idCRI, page) {
        $("#listTicket").show()
        getDetails(idCRI, page)
        $("#bookTicket").hide()
    }

    function book(id) {
        $.ajax({
            url: "http://localhost:8080/ws/addticket",
            type: "POST",
            data: {id: id},
            success: (status, xhr) => {
                if (xhr.status === 204) {

                } else {
                    displayToast("Bạn đã xuất vé thành công !!!", "orange")
                }
            },
            error: (aaa) => {
                if (aaa.status === 404) {
                    displayToast("Vé này đã được đặt xin mời chọn vé khác", "orange")
                }
            }
        })
    }

    function revenue() {
        $.ajax({
            url: "http://localhost:8080/ws/revenue",
            type: "GET",
            success: (data) => {
                getRevenue(data)
                console.log(data.length / 3)
                console.log(data)
            }
        })
    }

    function getRevenue(content) {
        let startTime;
        let startTime1;
        let startTime2;
        let endTime;
        let endTime1;
        let endTime2;
        let price;
        let price1;
        let price2;
        let a;
        let data = "<div id=\"carouselExampleControlsNoTouching\" class=\"carousel slide\" data-bs-touch=\"false\" data-bs-interval=\"false\">\n" +
            "    <div class=\"carousel-inner\">"
        for (let i = 0; i < (content.length / 3 + 1); i++) {
            if (i === 0) {
                startTime = new Date(content[i].startTime);
                startTime1 = new Date(content[i + 1].startTime);
                startTime2 = new Date(content[i + 2].startTime);
                endTime = new Date(content[i].endTime);
                endTime1 = new Date(content[i + 1].endTime);
                endTime2 = new Date(content[i + 2].endTime);
                price = content[i].price * content[i].sold;
                price = price.toLocaleString("vi-VN", {
                    style: "currency",
                    currency: "VND",
                    minimumFractionDigits: 0
                });
                price1 = content[i + 1].price * content[i + 1].sold;
                price1 = price1.toLocaleString("vi-VN", {
                    style: "currency",
                    currency: "VND",
                    minimumFractionDigits: 0
                });
                price2 = content[i + 2].price * content[i + 2].sold;
                price2 = price2.toLocaleString("vi-VN", {
                    style: "currency",
                    currency: "VND",
                    minimumFractionDigits: 0
                });
                data += "<div class=\"carousel-item active\">\n" +
                    "            <div class=\"cards-wrapper\">\n" +
                    "                    <div class=\"card\" style=\"width: 22rem;\">\n" +
                    "                    <div class=\"card-body\">\n" +
                    "                        <p class=\"card-text\"><strong>Chuyến xe: " + content[i].startingPoint + "</strong> - <strong>" + content[i].endingPoint + "</strong></p>\n" +
                    "                        <p class=\"card-text\"><strong>Loại xe: Xe thường </strong><strong>" + content[i].totalSeats + "<strong> chỗ</strong></strong></p>\n" +
                    "                        <p class=\"card-text\"><strong>Thời gian chạy: " + startTime.toLocaleDateString() + " " + startTime.toLocaleTimeString() + "</strong>\n" +
                    "                        </p>\n" +
                    "                        <p class=\"card-text\"><strong>Thời gian đến: " + endTime.toLocaleDateString() + " " + endTime.toLocaleTimeString() + "</strong></p>\n" +
                    "                        <p class=\"card-text\"><strong>Điểm đón: " + content[i].startingPoint + "</strong></p>\n" +
                    "                        <p class=\"card-text\"><strong>Điểm trả: " + content[i].endingPoint + "</strong></p>\n" +
                    "                        <p class=\"card-text\"><strong>Số vé đã bán: " + content[i].sold + "<strong></p>\n" +
                    "                        <div class=\"text-left p-0\"><strong>Doanh thu: </strong><strong style=\"color: red\">" + price + "</strong></div>\n" +
                    "                    </div>" +
                    "                </div>\n" +
                    "                <div class=\"cards-wrapper cards-wrapper1\">\n" +
                    "                    <div class=\"card\" style=\"width: 22rem;\">\n" +
                    "                    <div class=\"card-body\">\n" +
                    "                        <p class=\"card-text\">Chuyến xe: <strong>" + content[i + 1].startingPoint + "</strong> - <strong>" + content[i + 1].endingPoint + "</strong></p>\n" +
                    "                        <p class=\"card-text\">Loại xe: <strong>Xe thường </strong><strong>" + content[i + 1].totalSeats + "<strong> chỗ</strong></strong></p>\n" +
                    "                        <p class=\"card-text\">Thời gian chạy: <strong>" + startTime1.toLocaleDateString() + " " + startTime1.toLocaleTimeString() + "</strong>\n" +
                    "                        </p>\n" +
                    "                        <p class=\"card-text\">Thời gian đến: <strong>" + endTime1.toLocaleDateString() + " " + endTime1.toLocaleTimeString() + "</strong></p>\n" +
                    "                        <p class=\"card-text\">Điểm đón: <strong>" + content[i + 1].startingPoint + "</strong></p>\n" +
                    "                        <p class=\"card-text\">Điểm trả: <strong>" + content[i + 1].endingPoint + "</strong></p>\n" +
                    "                        <p class=\"card-text\">Số vé đã bán: <strong>" + content[i + 1].sold + "<strong></p>\n" +
                    "                        <div class=\"text-left p-0\"><strong>Doanh thu: </strong><strong style=\"color: red\">" + price1 + "</strong></div>\n" +
                    "                    </div>" +
                    "                    </div>\n" +
                    "                </div>\n" +
                    "                <div class=\"cards-wrapper cards-wrapper1\">\n" +
                    "                    <div class=\"card\" style=\"width: 22rem;\">\n" +
                    "                    <div class=\"card-body\">\n" +
                    "                        <p class=\"card-text\">Chuyến xe: <strong>" + content[i + 2].startingPoint + "</strong> - <strong>" + content[i + 2].endingPoint + "</strong></p>\n" +
                    "                        <p class=\"card-text\">Loại xe: <strong>Xe thường </strong><strong>" + content[i + 2].totalSeats + "<strong> chỗ</strong></strong></p>\n" +
                    "                        <p class=\"card-text\">Thời gian chạy: <strong>" + startTime2.toLocaleDateString() + " " + startTime2.toLocaleTimeString() + "</strong>\n" +
                    "                        </p>\n" +
                    "                        <p class=\"card-text\">Thời gian đến: <strong>" + endTime2.toLocaleDateString() + " " + endTime2.toLocaleTimeString() + "</strong></p>\n" +
                    "                        <p class=\"card-text\">Điểm đón: <strong>" + content[i + 2].startingPoint + "</strong></p>\n" +
                    "                        <p class=\"card-text\">Điểm trả: <strong>" + content[i + 2].endingPoint + "</strong></p>\n" +
                    "                        <p class=\"card-text\">Số vé đã bán: <strong>" + content[i + 2].sold + "<strong></p>\n" +
                    "                        <div class=\"text-left p-0\"><strong>Doanh thu: </strong><strong style=\"color: red\">" + price2 + "</strong></div>\n" +
                    "                    </div>" +
                    "                    </div>\n" +
                    "                </div>\n" +
                    "            </div>\n" +
                    "        </div>"
            }
            if (i >= 1 && i < (content.length / 3 - 1)) {
                a = i * 3;
                startTime = new Date(content[a].startTime);
                startTime1 = new Date(content[a + 1].startTime);
                startTime2 = new Date(content[a + 2].startTime);
                endTime = new Date(content[a].endTime);
                endTime1 = new Date(content[a + 1].endTime);
                endTime2 = new Date(content[a + 2].endTime);
                price = content[a].price * content[a].sold;
                price = price.toLocaleString("vi-VN", {
                    style: "currency",
                    currency: "VND",
                    minimumFractionDigits: 0
                });
                price1 = content[a + 1].price * content[a + 1].sold;
                price1 = price1.toLocaleString("vi-VN", {
                    style: "currency",
                    currency: "VND",
                    minimumFractionDigits: 0
                });
                price2 = content[a + 2].price * content[a + 2].sold;
                price2 = price2.toLocaleString("vi-VN", {
                    style: "currency",
                    currency: "VND",
                    minimumFractionDigits: 0
                });
                data += "<div class=\"carousel-item\">\n" +
                    "            <div class=\"cards-wrapper\">\n" +
                    "                    <div class=\"card\" style=\"width: 22rem;\">\n" +
                    "                    <div class=\"card-body\">\n" +
                    "                        <p class=\"card-text\">Chuyến xe: <strong>" + content[a].startingPoint + "</strong> - <strong>" + content[a].endingPoint + "</strong></p>\n" +
                    "                        <p class=\"card-text\">Loại xe: <strong>Xe thường </strong><strong>" + content[a].totalSeats + "<strong> chỗ</strong></strong></p>\n" +
                    "                        <p class=\"card-text\">Thời gian chạy: <strong>" + startTime.toLocaleDateString() + " " + startTime.toLocaleTimeString() + "</strong>\n" +
                    "                        </p>\n" +
                    "                        <p class=\"card-text\">Thời gian đến: <strong>" + endTime.toLocaleDateString() + " " + endTime.toLocaleTimeString() + "</strong></p>\n" +
                    "                        <p class=\"card-text\">Điểm đón: <strong>" + content[a].startingPoint + "</strong></p>\n" +
                    "                        <p class=\"card-text\">Điểm trả: <strong>" + content[a].endingPoint + "</strong></p>\n" +
                    "                        <p class=\"card-text\">Số vé đã bán: <strong>" + content[a].sold + "<strong></p>\n" +
                    "                        <div class=\"text-left p-0\"><strong>Doanh thu: </strong><strong style=\"color: red\">" + price + "</strong></div>\n" +
                    "                    </div>" +
                    "                </div>\n" +
                    "                <div class=\"cards-wrapper cards-wrapper1\">\n" +
                    "                    <div class=\"card\" style=\"width: 22rem;\">\n" +
                    "                    <div class=\"card-body\">\n" +
                    "                        <p class=\"card-text\">Chuyến xe: <strong>" + content[a + 1].startingPoint + "</strong> - <strong>" + content[a + 1].endingPoint + "</strong></p>\n" +
                    "                        <p class=\"card-text\">Loại xe: <strong>Xe thường </strong><strong>" + content[a + 1].totalSeats + "<strong> chỗ</strong></strong></p>\n" +
                    "                        <p class=\"card-text\">Thời gian chạy: <strong>" + startTime1.toLocaleDateString() + " " + startTime1.toLocaleTimeString() + "</strong>\n" +
                    "                        </p>\n" +
                    "                        <p class=\"card-text\">Thời gian đến: <strong>" + endTime1.toLocaleDateString() + " " + endTime1.toLocaleTimeString() + "</strong></p>\n" +
                    "                        <p class=\"card-text\">Điểm đón: <strong>" + content[a + 1].startingPoint + "</strong></p>\n" +
                    "                        <p class=\"card-text\">Điểm trả: <strong>" + content[a + 1].endingPoint + "</strong></p>\n" +
                    "                        <p class=\"card-text\">Số vé đã bán: <strong>" + content[a + 1].sold + "<strong></p>\n" +
                    "                        <div class=\"text-left p-0\"><strong>Doanh thu: </strong><strong style=\"color: red\">" + price1 + "</strong></div>\n" +
                    "                    </div>" +
                    "                    </div>\n" +
                    "                </div>\n" +
                    "                <div class=\"cards-wrapper cards-wrapper1\">\n" +
                    "                    <div class=\"card\" style=\"width: 22rem;\">\n" +
                    "                    <div class=\"card-body\">\n" +
                    "                        <p class=\"card-text\">Chuyến xe: <strong>" + content[a + 2].startingPoint + "</strong> - <strong>" + content[a + 2].endingPoint + "</strong></p>\n" +
                    "                        <p class=\"card-text\">Loại xe: <strong>Xe thường </strong><strong>" + content[a + 2].totalSeats + "<strong> chỗ</strong></strong></p>\n" +
                    "                        <p class=\"card-text\">Thời gian chạy: <strong>" + startTime2.toLocaleDateString() + " " + startTime2.toLocaleTimeString() + "</strong>\n" +
                    "                        </p>\n" +
                    "                        <p class=\"card-text\">Thời gian đến: <strong>" + endTime2.toLocaleDateString() + " " + endTime2.toLocaleTimeString() + "</strong></p>\n" +
                    "                        <p class=\"card-text\">Điểm đón: <strong>" + content[a + 2].startingPoint + "</strong></p>\n" +
                    "                        <p class=\"card-text\">Điểm trả: <strong>" + content[a + 2].endingPoint + "</strong></p>\n" +
                    "                        <p class=\"card-text\">Số vé đã bán: <strong>" + content[a + 2].sold + "<strong></p>\n" +
                    "                        <div class=\"text-left p-0\"><strong>Doanh thu: </strong><strong style=\"color: red\">" + price2 + "</strong></div>\n" +
                    "                    </div>" +
                    "                    </div>\n" +
                    "                </div>\n" +
                    "            </div>\n" +
                    "        </div>"
            }
        }

        data += "</div>\n" +
            "    <button class=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#carouselExampleControlsNoTouching\" data-bs-slide=\"prev\">\n" +
            "        <span class=\"carousel-control-prev-icon centered-content\" aria-hidden=\"true\"></span>\n" +
            // "        <span class=\"visually-hidden\">Previous</span>\n" +
            "    </button>\n" +
            "    <button class=\"carousel-control-next\" type=\"button\" data-bs-target=\"#carouselExampleControlsNoTouching\" data-bs-slide=\"next\">\n" +
            "        <span class=\"carousel-control-next-icon centered-content\" aria-hidden=\"true\"></span>\n" +
            // "        <span class=\"visually-hidden\">Next</span>\n" +
            "    </button>\n" +
            "</div>"
        $("#revenue").html(data)
        $("#centered-content").hide()
    }
</script>
</body>
</html>