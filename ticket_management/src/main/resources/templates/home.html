<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">

<head>
    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
            rel="stylesheet"
    />
    <!-- basic -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="x-icon" href="images/car.png">
    <!-- mobile metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <!-- site metas -->
    <title>Nhà Xe</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- bootstrap css -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css">
    <!-- style css -->
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <!-- Responsive-->
    <link rel="stylesheet" href="css/responsive.css">
    <!-- fevicon -->
    <link rel="icon" href="images/fevicon.png" type="image/gif"/>
    <!-- Scrollbar Custom CSS -->
    <link rel="stylesheet" href="css/jquery.mCustomScrollbar.min.css">
    <!-- Tweaks for older IEs-->
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
    <!-- owl stylesheets -->
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css"
          media="screen">

</head>
<style>
    * {
        font-family: Arial;
    }

    .search-form {
        max-width: 1128px;
        background: white;
        border: 1px solid rgba(232, 8, 56, 0.6);
        border-radius: 1rem;
        padding-bottom: 3.5rem;
        padding-top: 4.5rem;
        outline: 8px solid rgb(197 58 16 / 10%);
    }
    .layout_padding{
        padding-bottom : 30px;
    }
</style>
<body>
<script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
<!--header section start -->
<div id="index.html" class="header_section">
    <div class="container">
        <div class="row">
            <div class="col-sm-6 col-lg-3">
                <div class="logo"><a href="#"> <img
                        src="https://hieuhoaexpress.com/wp-content/uploads/2019/08/hieuhoa_logo_trang.png"
                        srcset="https://hieuhoaexpress.com/wp-content/uploads/2019/08/hieuhoa_logo_trang.png 1x"
                        width="227" height="69" alt="Nhà Xe Hiếu Hoa Đà Nẵng Logo" data-retina_logo_url=""
                        class="fusion-standard-logo"/></a></div>
            </div>
            <div class="col-sm-6 col-lg-9">
                <div class="menu_text">
                    <ul>
                        <li><a href="/">Trang Chủ</a></li>
                        <li><a th:href="@{api/ticket}">Đặt Vé</a></li>
                        <li><a href="#booking">Chi Tiết</a></li>
                        <div id="myNav" class="overlay">
                            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
                            <div class="overlay-content">
                                <a href="#">Trang Chủ</a>
                                <a  th:href="@{api/ticket}">Đặt vé</a>
                                <a href="#taxis">Loại Xe</a>
                                <a href="#booking">Chi Tiết</a>
                                <a href="#contact">Liên Hệ</a>
                                <div sec:authorize="!isAuthenticated()">
                                    <a href="/login"> Đăng Nhập</a>
                                </div>
                                <div sec:authorize="isAuthenticated()">
                                    <a href="/logout"> Đăng Xuất</a>
                                </div>
                            </div>
                        </div>
                        <span style="font-size:33px;cursor:pointer; color: #ffffff;" onclick="openNav()">
                                <box-icon name='menu' color='#e8e8e8'></box-icon>
                            </span>
                    </ul>
                </div>
                </li>

            </div>
        </div>
    </div>
</div>
<!-- header section end -->
<!-- banner section start -->
<div class="banner_section">
    <div class="container-fluid">
        <div id="main_slider" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="book_now">
                                <h1 class="book_text">Đặt xe ngay</h1>
                                <h1 class="call_text">(+84) 1234567890</h1>
                            </div>
                            <div class="image_1"><img src="images/xe3.png"></div>
                        </div>
                        <div class="col-md-6">
                            <h1 class="booking_text">Book a City Taxi to your destination in town</h1>
                            <!-- <div class="contact_bg">
                          <div class="input_main">
                            <div class="container">
                              <h2 class="request_text">Your everyday travel partner</h2>
                              <form action="/action_page.php">
                                <div class="form-group">
                                  <input type="text" class="email-bt" placeholder="PICKUP" name="Name">
                                </div>
                                <div class="form-group">
                                  <input type="text" class="email-bt" placeholder="DROP" name="Email">
                                </div>
                                <div class="form-group">
                                  <input type="text" class="email-bt" placeholder="WHEN" name="Email">
                                </div>
                              </form>
                            </div>
                          </div>
                          <div class="send_bt"><a href="#">SEARCH</a></div>
                        </div> -->
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="book_now">
                                <h1 class="book_text">Đặt xe ngay</h1>
                                <h1 class="call_text">(+84) 1234567890</h1>
                            </div>
                            <div class="image_1"><img src="images/xe3.png"></div>
                        </div>
                        <div class="col-md-6">
                            <h1 class="booking_text">Book a City Taxi to your destination in town</h1>
                            <!-- <div class="contact_bg">
                          <div class="input_main">
                            <div class="container">
                              <h2 class="request_text">Your everyday travel partner</h2>
                              <form action="/action_page.php">
                                <div class="form-group">
                                  <input type="text" class="email-bt" placeholder="PICKUP" name="Name">
                                </div>
                                <div class="form-group">
                                  <input type="text" class="email-bt" placeholder="DROP" name="Email">
                                </div>
                                <div class="form-group">
                                  <input type="text" class="email-bt" placeholder="WHEN" name="Email">
                                </div>
                              </form>
                            </div>
                          </div>
                          <div class="send_bt"><a href="#">SEARCH</a></div>
                        </div> -->
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="book_now">
                                <h1 class="book_text">Đặt xe ngay</h1>
                                <h1 class="call_text">(+84) 1234567890</h1>
                            </div>
                            <div class="image_1"><img src="images/xe3.png"></div>
                        </div>
                        <div class="col-md-6">
                            <h1 class="booking_text">Book a City Taxi to your destination in town</h1>
                            <!-- <div class="contact_bg">
                          <div class="input_main">
                            <div class="container">
                              <h2 class="request_text">Your everyday travel partner</h2>
                              <form action="/action_page.php">
                                <div class="form-group">
                                  <input type="text" class="email-bt" placeholder="PICKUP" name="Name">
                                </div>
                                <div class="form-group">
                                  <input type="text" class="email-bt" placeholder="DROP" name="Email">
                                </div>
                                <div class="form-group">
                                  <input type="text" class="email-bt" placeholder="WHEN" name="Email">
                                </div>
                              </form>
                            </div>
                          </div>
                          <div class="send_bt"><a href="#">SEARCH</a></div>
                        </div> -->
                        </div>
                    </div>
                </div>
            </div>
            <a class="carousel-control-prev" href="#main_slider" role="button" data-slide="prev">
                <i class="fa fa-angle-left"></i></a>
            </a>
            <a class="carousel-control-next" href="#main_slider" role="button" data-slide="next">
                <i class="fa fa-angle-right"></i>
            </a>
            </a>
        </div>

    </div>
</div>
<!-- banner section end -->
<!-- our taxis section start -->
<div id="taxis" class="taxis_section layout_padding">
    <div class="container">
        <h1 class="our_text"><span style="color: #f4db31;">TUYẾN </span> PHỔ BIẾN </h1>
        <div class="taxis_section_2">
            <div class="row">
                <div class="col-sm-4">
                    <div class="taxi_main">
                        <div class="round_1">01</div>
                        <h2 class="carol_text">Bus 1</h2>
                        <p class="reader_text">Xe 20 giường</p>
                        <div class="images_2"><a href="#"><img src="images/xe3.png"></a></div>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="taxi_main">
                        <div class="round_1">02</div>
                        <h2 class="carol_text">Bus 2</h2>
                        <p class="reader_text">Xe 34 giường</p>
                        <div class="images_2"><img src="images/xe3.png"></a></div>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="taxi_main">
                        <div class="round_1">03</div>
                        <h2 class="carol_text">Bus 3</h2>
                        <p class="reader_text">Xe 40 giường</p>
                        <div class="images_2"><img src="images/xe3.png"></a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- our taxis section end -->
<!-- why ride section start -->

<div class="container p-5 border border-2 mb-4" style="border-radius: 12px;">
    <!--  id="myForm"   method="get" th:action="@{/api/ticket/searchTicket}"-->
    <div id="booking" class="ride_section layout_padding">
        <div class="container border border-warning search-form">
            <!--            <div class="ride_main">-->
            <!--                <h1 style="font-size: 50px"> ĐẶT <span style="color: #f4db31;">VÉ XE</span></h1>-->
            <!--            </div>-->
            <form class="text-center">
                <div class="row">
                    <div class="col-md-3">
                        <div class="mb-3">
                            <i class="fa-solid fa-location-dot"></i> <label style="margin-left: 8px" for="departureCity"
                                                                            class="form-label fw-bold">Điểm đi</label>
                            <select style="width: 68%" name="departure" id="departureCity"
                                    class="form-select form-select-sm search-select !important"
                                    onchange="handleDepartureCityChange()" required>
                                <option value="" selected>Chọn tỉnh thành</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="mb-3">
                            <i class="fa-solid fa-location-dot"></i> <label style="margin-left: 6px" for="city"
                                                                            class="form-label fw-bold">Điểm đến</label>
                            <select style="width: 65%;" name="destination" id="city"
                                    class="form-select form-select-sm search-select" onchange="handleCityChange()"
                                    required>
                                <option value="" selected>Chọn tỉnh thành</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <i class="fa-regular fa-calendar-days"></i><label style="margin-left: 8px"
                                                                              for="startDateTime"
                                                                              class="form-label fw-bold">Ngày bắt đầu
                            đi</label>
                            <input style="width: 60%;display: inline-block;" name="timeStart" type="date"
                                   id="startDateTime"
                                   class="form-control" required>
                        </div>
                    </div>
                    <div class="col-md-2" style="margin-left: -3%">
                        <div class="mb-3">
                            <button type="submit" class="btn btn-dark" onclick="createSearch()">Tìm Chuyến xe</button>

                        </div>
                    </div>
                </div>

            </form>
        </div>
    </div>


</div>
<div id="listTicketsContainer" class="mt-4 container"></div>

<!--modal-->
<div class="success-message">
    <div class="modal fade" id="myModalNotFound" tabindex="-1" aria-labelledby="exampleModalLabel1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel1">Thông báo</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Không có chuyến xe phù hợp</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Modal -->
<div class="modal fade" id="noResultsModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Thông báo</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>Tuyến chưa có lịch trình cụ thể,vui lòng gọi cho số tổng đài 123456 để biết thêm chi tiết</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="missingInfoModal" tabindex="-1" aria-labelledby="exampleModalLabel3" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel3">Thông báo</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>Vui lòng nhập đầy đủ thông tin.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
            </div>
        </div>
    </div>
</div>
<div class="ride_section_2 layout_padding">
    <div class="container">
        <div class="row">
            <div class="col-sm-4">
                <div class="image_3"><img src="images/img-3.png"></div>
            </div>
            <div class="col-sm-8">
                <h1 class="cabe_text">Thanh Toán Đa Dạng</h1>
                <p class="long_text">Trải qua hơn 10 năm hoạt động, Công ty Cổ phần vận tải và dịch vụ du lịch Quảng
                    Hà với thương hiệu nhà xe
                    Hiếu Hoa đã góp phần tích cực trong việc thúc đẩy giao thương,
                    đi lại giữa TP. Đà Nẵng với các tỉnh phía Bắc.
                </p>
                <div class="book_bt"><a href="#">ĐẶT XE NGAY</a></div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-sm-8">
                <h1 class="secure_text">Secure and Safer Rides</h1>
                <p class="long_text_2">Bằng việc chú trọng vào an toàn, chất lượng dịch vụ và sự kỹ lưỡng khi tuyển
                    chọn đội ngũ nhân viên,
                    Hiếu Hoa luôn mong muốn mang đến cho khách hàng sự hài lòng, an tâm và trải nghiệm tốt nhất có
                    thể khi đồng hành cùng với chúng tôi trên mọi nẻo đường.
                </p>
                <div class="book_bt_2"><a href="#">ĐẶT XE NGAY</a></div>
            </div>
            <div class="col-sm-4">
                <div class="image_3"><img src="images/img-4.png"></div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-sm-4">
                <div class="image_3"><img src="images/img-5.png"></div>
            </div>
            <div class="col-sm-8">
                <h1 class="cabe_text">Uloax for Every Pocket</h1>
                <p class="long_text">Hiếu Hoa Đà Nẵng luôn tự hào là một trong những nhà xe có chất lượng phục vụ
                    hàng đầu. Không những thái độ nhân viên thân thiện,
                    nhiệt tình mà dịch vụ còn rất thuận tiện cho Quý khách hàng. Khi đến với chúng tôi, bạn sẽ được
                    tận hưởng nhiều dịch vụ chất lượng caol
                </p>
                <div class="book_bt"><a href="#">ĐẶT XE NGAY</a></div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-sm-8">
                <h1 class="secure_text">Secure and Safer Rides</h1>
                <p class="long_text_2">

                    Cảm ơn Quý khách đã luôn tin cậy và ủng hộ nhà xe Hiếu Hoa. Chúng tôi sẽ luôn nỗ lực đem đến
                    dịch vụ ngày càng tốt hơn, hoàn thiện hơn cho Quý khách.

                    Kính chúc Quý Khánh luôn Bình An Trên Vạn Dặm.
                </p>
                <div class="book_bt_2"><a href="#">ĐẶT XE NGAY</a></div>
            </div>
            <div class="col-sm-4">
                <div class="image_3"><img src="images/img-5.png"></div>
            </div>
        </div>
    </div>
</div>
<!-- why ride section end -->
<!-- location section start -->
<div id="contact" class="location_sectin layout_padding">
    <div class="container-fluid">
        <div class="location_main">
            <div class="row">
                <div class="col-sm-4"></div>
                <div class="col-sm-5">
                    <div class="download_text">DOWNLOAD<br><span style="color: #fffcf4;">OUR APP TODAY</span></div>
                </div>
                <div class="col-sm-3">
                    <div class="image_7"><img src="images/img-7.png"></div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- download section end -->
<!-- section footer start -->
<div class="section_footer ">
    <div class="container">
        <div class="footer_section_2">
            <div class="row">
                <div class="col-sm-6 col-md-6 col-lg-3">
                    <h2 class="account_text">Address</h2>
                    <p class="ipsum_text">It is a long established fact that a reader will be distracted by the
                        readable
                        content
                        of a page when looking at its layout. The point of using Lorem Ipsum is that it has a
                        more-or-less normal
                        distribution of letters, </p>
                </div>
                <div class="col-sm-6 col-md-6 col-lg-3">
                    <h2 class="account_text">Links</h2>
                    <div class="image-icon"><img src="images/bulit-icon.png"><span class="fb_text"><a href="#">Trang
                                    Chủ</a> </span>
                    </div>
                    <div class="image-icon"><img src="images/bulit-icon.png"><span class="fb_text"><a href="#">Đặt
                                    Xe</a> </span>
                    </div>
                    <div class="image-icon"><img src="images/bulit-icon.png"><span class="fb_text"><a href="#">Loại
                                    Xe</a> </span>
                    </div>
                    <div class="image-icon"><img src="images/bulit-icon.png"><span class="fb_text"><a href="#">Chi
                                    Tiết</a></span></div>
                    <div cla ss="image-icon"><img src="images/bulit-icon.png"><span class="fb_text"><a href="#">Liên
                                    Hệ
                                </a>
                            </span>
                    </div>

                </div>
                <div class="col-sm-6 col-md-6 col-lg-3">
                    <h2 class="account_text">Follow Us</h2>
                    <div class="image-icon"><img src="images/fb-icon.png"><span class="fb_text"><a
                            href="#">Facebook</a></span>
                    </div>
                    <div class="image-icon"><img src="images/twitter-icon.png"><span class="fb_text"><a
                            href="#">Twitter</a></span></div>
                    <div class="image-icon"><img src="images/in-icon.png"><span class="fb_text"><a
                            href="#">Linkedin</a></span>
                    </div>
                    <div class="image-icon"><img src="images/youtube-icon.png"><span class="fb_text"><a
                            href="#">Youtube</a></span></div>
                    <div class="image-icon"><img src="images/instagram-icon.png"><span class="fb_text"><a
                            href="#">Instagram</a></span></div>
                </div>
                <div class="col-sm-6 col-md-6 col-lg-3">
                    <h2 class="adderess_text">Newsletter</h2>
                    <input type="" class="email_text" placeholder="Enter Your Email" name="Enter Your Email">
                    <button class="subscribr_bt">SUBSCRIBE</button>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
<!-- section footer end -->
<!-- copyright section start -->
<div class="copyright_section">
    <div class="container">
        <p class="copyright">© Copyright 2019. HIEU HOA EXPRESS <a href="#">by QUAHACO</a></p>
    </div>
</div>

<!-- Javascript files-->
<script src="js/jquery.min.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap.bundle.min.js"></script>
<script src="js/jquery-3.0.0.min.js"></script>
<script src="js/plugin.js"></script>
<!-- sidebar -->
<script src="js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="js/custom.js"></script>
<!-- javascript -->
<script src="js/owl.carousel.js"></script>
<script src="https:cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>
<script>
    $(document).ready(function () {
        $(".fancybox").fancybox({
            openEffect: "none",
            closeEffect: "none"
        });

        $(".zoom").hover(function () {

            $(this).addClass('transition');
        }, function () {

            $(this).removeClass('transition');
        });
    });
</script>
<script>
    function openNav() {
        document.getElementById("myNav").style.width = "100%";
    }

    function closeNav() {
        document.getElementById("myNav").style.width = "0%";
    }
</script>
<script>
    $(function () {
        $("#header").load("header.html");
    })
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

<script>
    const host = "https://provinces.open-api.vn/api/";

    var callAPI = (api, selectId) => {
        return axios.get(api)
            .then((response) => {
                renderData(response.data, selectId);
            });
    }

    callAPI('https://provinces.open-api.vn/api/?depth=1', 'departureCity');
    callAPI('https://provinces.open-api.vn/api/?depth=1', 'city');

    var renderData = (array, select) => {
        let row = '<option disable value="">Chọn</option>';
        array.forEach(element => {
            let option = `<option data-id="${element.code}" value="${element.name}" class="${select}-option">${element.name}</option>`;
            row += option;
        });
        document.querySelector("#" + select).innerHTML = row;
    }

    var handleDepartureCityChange = () => {
        printResult();
    };

    var handleCityChange = () => {
        printResult();
    };


    $("#startDateTime").change(() => {
        printResult();
    });

    document.addEventListener('DOMContentLoaded', function () {
        var currentDate = new Date().toISOString().split('T')[0];
        document.getElementById('startDateTime').min = currentDate;
    });


    var printResult = () => {
        if ($("#departureCity").find(':selected').data('id') != "" && $("#city").find(':selected').data('id') != "" &&
            $("#startDateTime").val() !== "") {

        }
    }


    $(".search-select").select2();


    $('#myForm').submit(function (event) {
        if (!$('#departureCity').val() || !$('#city').val() || !$('#startDateTime').val()) {
            event.preventDefault();
            $('#missingInfoModal').modal('show');
        }
    });
    $('input[type="submit"]').click(function (event) {
        if (!$('#departureCity').val() || !$('#city').val() || !$('#startDateTime').val()) {
            event.preventDefault();
            $('#missingInfoModal').modal('show');
        }
    });


    function createSearch() {
        let departureCity = $("#departureCity").val();
        let city = $("#city").val();
        let timeStart = $("#startDateTime").val();

        if (departureCity && city && timeStart) {
            let newSearch = {
                startPoint: departureCity,
                endPoint: city,
                startTime: timeStart
            }
            console.log(newSearch)
            $.ajax({
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json',
                    'Access-Control-Allow-Origin': '*'
                },
                type: "POST",
                data: JSON.stringify(newSearch),
                url: "http://localhost:8080/public/search",
                success: function (data, textStatus, xhr) {
                    if (xhr.status === 204) {
                        $('#myModalNotFound').modal('show');
                    } else {
                        var listTicketsContainer = document.getElementById('listTicketsContainer');
                        listTicketsContainer.innerHTML = '';
                        if (data.length > 0) {
                            data.forEach(function (row) {
                                var ticketDiv = document.createElement('div');
                                ticketDiv.className = 'row p-4 border mb-4';
                                ticketDiv.style.borderRadius = '10px';
                                var ticketHtml = `
                <div class="col-md-6">
                    <div class="d-flex align-items-center mb-3">
                        <i style="font-size: 40px" class="fa-solid fa-bus me-3"></i>
                        <p style="font-weight: bold" className=" mb-0"><span>${row.startPoint} - ${row.endPoint}</span></p>
                    <p className="fw-bold mb-0"> </p>
                    </div>
                    <div class="d-flex align-items-center">
                        <span class="fw-bold">Miễn phí</span>
                        <i class="fa-solid fa-wifi mx-2"></i>
                       <i class="fa-solid fa-bottle-water"></i>
                    </div>
                    <p class="fw-bold">Giá vé <span>${row.price}</span> <u>VNĐ</u></p>
                </div>
                <div class="col-md-5">
                    <p class="fw-bold">Thời gian bắt đầu <span>${row.startTime}</span></p>
                    <p class="fw-bold">Thời gian kết thúc <span>${row.endTime}</span></p>
                </div>
                <div class="col-md-1">
                    <a class="btn btn-dark" style="width: 110px" href="/ticket/${row.id}"> <span>Đặt vé</span> </a>
                </div>
            `;
                                ticketDiv.innerHTML = ticketHtml;
                                listTicketsContainer.appendChild(ticketDiv);
                            });
                        } else {
                            $('#noResultsModal').modal('show');

                        }
                    }

                },
                error: function (error) {
                    console.log("loi??")
                    console.log("Error:", error);
                }

            })

        } else {
            $('#missingInfoModal').modal('show');
        }
        event.preventDefault();
    }

    function openNav() {
        document.getElementById("myNav").style.width = "100%";
    }

    function closeNav() {
        document.getElementById("myNav").style.width = "0%";
    }

</script>
</body>

</html>